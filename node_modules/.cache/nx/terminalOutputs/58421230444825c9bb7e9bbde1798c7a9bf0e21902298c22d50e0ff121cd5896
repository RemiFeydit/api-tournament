[1m[2mDetermining test suites to run...[22m[22m[999D[K

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0 s, estimated 3 s
[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mtournament.spec.ts[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mdefault.spec.ts[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0 s, estimated 3 s
[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mtournament.spec.ts[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mdefault.spec.ts[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        1 s, estimated 3 s
[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mtournament.spec.ts[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mdefault.spec.ts[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        2 s, estimated 3 s
[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[32mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[37mâ–ˆ[39m[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mtournament.spec.ts[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mdefault.spec.ts[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        3 s[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m tournament [39m[27m[0m ]8;;file:///home/notitou/Bureau/Ynov/api-tournament/apps/tournament/src/testing/default.spec.ts[2mapps/tournament/src/testing/[22m[1mdefault.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mtournament.spec.ts[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mdefault.spec.ts[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        3 s[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mtournament.spec.ts[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mdefault.spec.ts[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        3 s[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m tournament [39m[27m[0m ]8;;file:///home/notitou/Bureau/Ynov/api-tournament/apps/tournament/src/testing/tournament.spec.ts[2mapps/tournament/src/testing/[22m[1mtournament.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mtournament.spec.ts[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mdefault.spec.ts[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        3 s[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[1m[31m  [1mâ— [22m[1m/tournament endpoint â€º [POST] when creating a tournament â€º should return the correct id[39m[22m

    expected 201 "Created", got 400 "Bad Request"
[2m[22m
[2m    [0m [90m 13 |[39m         [33m.[39mpost([32m"/api/tournaments"[39m)[0m[22m
[2m    [0m [90m 14 |[39m         [33m.[39msend(exampleTournament)[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 15 |[39m         [33m.[39mexpect([35m201[39m)[33m;[39m[0m[22m
[2m    [0m [90m    |[39m          [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 16 |[39m[0m[22m
[2m    [0m [90m 17 |[39m       expect(body[33m.[39mid)[33m.[39mnot[33m.[39mtoBeUndefined()[33m;[39m[0m[22m
[2m    [0m [90m 18 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat [22m[2m[0m[36msrc/testing/tournament.spec.ts[39m[0m[2m:15:10[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/tslib/tslib.js[2m:117:75[22m[2m[22m
[2m      [2mat Object.__awaiter ([22m[2m../../node_modules/tslib/tslib.js[2m:113:16)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/testing/tournament.spec.ts[39m[0m[2m:11:51)[22m[2m[22m
[2m      ----[22m
[2m      [2mat Test._assertStatus ([22m[2m../../node_modules/supertest/lib/test.js[2m:252:14)[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/supertest/lib/test.js[2m:306:17[22m[2m[22m
[2m      [2mat Test._assertFunction ([22m[2m../../node_modules/supertest/lib/test.js[2m:285:13)[22m[2m[22m
[2m      [2mat Test.assert ([22m[2m../../node_modules/supertest/lib/test.js[2m:164:23)[22m[2m[22m
[2m      [2mat Server.localAssert ([22m[2m../../node_modules/supertest/lib/test.js[2m:120:14)[22m[2m[22m

[1m[31m  [1mâ— [22m[1m/tournament endpoint â€º [POST] when creating a tournament â€º should have stored the tournament[39m[22m

    expected 201 "Created", got 400 "Bad Request"
[2m[22m
[2m    [0m [90m 22 |[39m         [33m.[39mpost([32m"/api/tournaments"[39m)[0m[22m
[2m    [0m [90m 23 |[39m         [33m.[39msend(exampleTournament)[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 24 |[39m         [33m.[39mexpect([35m201[39m)[33m;[39m[0m[22m
[2m    [0m [90m    |[39m          [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 25 |[39m[0m[22m
[2m    [0m [90m 26 |[39m       [36mconst[39m [36mget[39m [33m=[39m [36mawait[39m request(app)[0m[22m
[2m    [0m [90m 27 |[39m         [33m.[39m[36mget[39m([32m`/api/tournaments/${body.id}`[39m)[0m[22m
[2m[22m
[2m      [2mat [22m[2m[0m[36msrc/testing/tournament.spec.ts[39m[0m[2m:24:10[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/tslib/tslib.js[2m:117:75[22m[2m[22m
[2m      [2mat Object.__awaiter ([22m[2m../../node_modules/tslib/tslib.js[2m:113:16)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/testing/tournament.spec.ts[39m[0m[2m:20:56)[22m[2m[22m
[2m      ----[22m
[2m      [2mat Test._assertStatus ([22m[2m../../node_modules/supertest/lib/test.js[2m:252:14)[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/supertest/lib/test.js[2m:306:17[22m[2m[22m
[2m      [2mat Test._assertFunction ([22m[2m../../node_modules/supertest/lib/test.js[2m:285:13)[22m[2m[22m
[2m      [2mat Test.assert ([22m[2m../../node_modules/supertest/lib/test.js[2m:164:23)[22m[2m[22m
[2m      [2mat Server.localAssert ([22m[2m../../node_modules/supertest/lib/test.js[2m:120:14)[22m[2m[22m

[1m[31m  [1mâ— [22m[1m/tournament endpoint â€º [POST] when creating a tournament â€º send empty string return error 400[39m[22m

    expected 400 "Bad Request", got 201 "Created"
[2m[22m
[2m    [0m [90m 35 |[39m         [33m.[39mpost([32m"/api/tournaments"[39m)[0m[22m
[2m    [0m [90m 36 |[39m         [33m.[39msend({ name[33m:[39m [32m""[39m } [36mas[39m [33mTournament[39m)[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 37 |[39m         [33m.[39mexpect([35m400[39m)[33m;[39m[0m[22m
[2m    [0m [90m    |[39m          [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 38 |[39m[0m[22m
[2m    [0m [90m 39 |[39m       expect(body)[33m.[39mtoEqual({ error[33m:[39m [32m"le champ nom est manquant ou vide"[39m })[33m;[39m[0m[22m
[2m    [0m [90m 40 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat [22m[2m[0m[36msrc/testing/tournament.spec.ts[39m[0m[2m:37:10[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/tslib/tslib.js[2m:117:75[22m[2m[22m
[2m      [2mat Object.__awaiter ([22m[2m../../node_modules/tslib/tslib.js[2m:113:16)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/testing/tournament.spec.ts[39m[0m[2m:33:57)[22m[2m[22m
[2m      ----[22m
[2m      [2mat Test._assertStatus ([22m[2m../../node_modules/supertest/lib/test.js[2m:252:14)[22m[2m[22m
[2m      [2mat [22m[2m../../node_modules/supertest/lib/test.js[2m:306:17[22m[2m[22m
[2m      [2mat Test._assertFunction ([22m[2m../../node_modules/supertest/lib/test.js[2m:285:13)[22m[2m[22m
[2m      [2mat Test.assert ([22m[2m../../node_modules/supertest/lib/test.js[2m:164:23)[22m[2m[22m
[2m      [2mat Server.localAssert ([22m[2m../../node_modules/supertest/lib/test.js[2m:120:14)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mtournament.spec.ts[22m
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [0m[7m[37m tournament [39m[27m[0m [2mapps/tournament/src/testing/[22m[1mdefault.spec.ts[22m

[1mTest Suites: [22m0 of 2 total
[1mTests:       [22m0 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        3 s[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[999D[K[1mTest Suites: [22m[1m[31m1 failed[39m[22m, [1m[32m1 passed[39m[22m, 2 total
[1mTests:       [22m[1m[31m3 failed[39m[22m, [1m[32m1 passed[39m[22m, 4 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        3.259 s
[2mRan all test suites[22m[2m.[22m
